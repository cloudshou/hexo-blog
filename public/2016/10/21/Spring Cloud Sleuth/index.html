<!DOCTYPE html>
<html lang=zh>
<head>
    <meta charset="utf-8">
    
    <title>Spring Cloud Sleuth-全链路监控调研 | 许进|沉思录</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="前言:做过软件开发的都知道，对系统进行全链路的监控是非常有必要的。在单体应用中，传统的方式是软件开发软件者，通过自定义日志的level，日志文件的方式记录单体应用的运行日志。从而排查线上系统出现运行过慢，出现故障，异常等问题，但是在微服务架构或分布式系统中，一个系统被拆分成了A、B、C、D、E等多个服务，而每个服务可能又有多个实例组成集群，采用上诉定位问题的方式就行不通了，你充其量就知道某个服务是">
<meta property="og:type" content="article">
<meta property="og:title" content="Spring Cloud Sleuth-全链路监控调研">
<meta property="og:url" content="http://blog.xujin.org/2016/10/21/Spring Cloud Sleuth/index.html">
<meta property="og:site_name" content="许进|沉思录">
<meta property="og:description" content="前言:做过软件开发的都知道，对系统进行全链路的监控是非常有必要的。在单体应用中，传统的方式是软件开发软件者，通过自定义日志的level，日志文件的方式记录单体应用的运行日志。从而排查线上系统出现运行过慢，出现故障，异常等问题，但是在微服务架构或分布式系统中，一个系统被拆分成了A、B、C、D、E等多个服务，而每个服务可能又有多个实例组成集群，采用上诉定位问题的方式就行不通了，你充其量就知道某个服务是">
<meta property="og:image" content="http://blog.xujin.org/images/spring-cloud-sleuth/1/dyl.png">
<meta property="og:image" content="http://blog.xujin.org/images/spring-cloud-sleuth/1/qzfw.png">
<meta property="og:image" content="http://blog.xujin.org/images/spring-cloud-sleuth/1/trace-id.png">
<meta property="og:updated_time" content="2016-10-26T15:03:15.494Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Spring Cloud Sleuth-全链路监控调研">
<meta name="twitter:description" content="前言:做过软件开发的都知道，对系统进行全链路的监控是非常有必要的。在单体应用中，传统的方式是软件开发软件者，通过自定义日志的level，日志文件的方式记录单体应用的运行日志。从而排查线上系统出现运行过慢，出现故障，异常等问题，但是在微服务架构或分布式系统中，一个系统被拆分成了A、B、C、D、E等多个服务，而每个服务可能又有多个实例组成集群，采用上诉定位问题的方式就行不通了，你充其量就知道某个服务是">
<meta name="twitter:image" content="http://blog.xujin.org/images/spring-cloud-sleuth/1/dyl.png">
    

    
        <link rel="alternate" href="atom.xml" title="许进|沉思录" type="application/atom+xml" />
    

    
        <link rel="icon" href="/css/images/favicon.ico" />
    

    <link rel="stylesheet" href="/vendor/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/vendor/open-sans/styles.css">
    <link rel="stylesheet" href="/vendor/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/vendor/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/vendor/lightgallery/css/lightgallery.min.css">
    
    
    
    
    


    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</head>

<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <span class="site-title">许进|沉思录</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/.">首页</a>
                
                    <a class="main-nav-link" href="/archives">归档</a>
                
                    <a class="main-nav-link" href="http://www.xujin.org">主站</a>
                
                    <a class="main-nav-link" href="http://springcloud.cn">社区</a>
                
                    <a class="main-nav-link" href="/about">关于我</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/css/images/avatar.png" />
                            <i class="fa fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="想要查找什么..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/.">首页</a></td>
                
                    <td><a class="main-nav-link" href="/archives">归档</a></td>
                
                    <td><a class="main-nav-link" href="http://www.xujin.org">主站</a></td>
                
                    <td><a class="main-nav-link" href="http://springcloud.cn">社区</a></td>
                
                    <td><a class="main-nav-link" href="/about">关于我</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/css/images/avatar.png" />
            <h2 id="name">Software_King</h2>
            <h3 id="title" style="margin: 1.6em 0em">软件世界就是模拟客观世界，从而需求分析，技术驱动，改造世界！</h3>
            <span id="location"><i class="fa fa-map-marker"></i>ShangHai, China</span>
            <a id="follow" target="_blank" href="https://github.com/softwareking/">关注我</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                4
                <span>文章</span>
            </div>
            <div class="article-info-block">
                7
                <span>标签</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="http://github.com/softwareking" target="_blank" title="github" class=tooltip>
                            <i class="fa fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="http://git.oschina.net/softwareking" target="_blank" title="git" class=tooltip>
                            <i class="fa fa-git"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="http://www.linkedin.com/in/xujins" target="_blank" title="linkedin" class=tooltip>
                            <i class="fa fa-linkedin"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="http://weibo.com/softwaremi" target="_blank" title="weibo" class=tooltip>
                            <i class="fa fa-weibo"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/atom.xml" target="_blank" title="rss" class=tooltip>
                            <i class="fa fa-rss"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/sitemap.xml" target="_blank" title="sitemap" class=tooltip>
                            <i class="fa fa-sitemap"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
        <p>
                    <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=285 height=52 src="http://music.163.com/outchain/player?type=2&id=39443693&auto=0&height=32"></iframe>
                    </p>
    </div>
</aside>

            
            <section id="main"><article id="post-Spring Cloud Sleuth" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
            Spring Cloud Sleuth-全链路监控调研
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2016/10/21/Spring Cloud Sleuth/">
            <time datetime="2016-10-21T06:00:00.000Z" itemprop="datePublished">2016-10-21</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Spring-Cloud-Sleuth/">Spring Cloud Sleuth</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/Spring-Cloud/">Spring Cloud</a>, <a class="tag-link" href="/tags/Spring-Cloud-Sleuth/">Spring Cloud Sleuth</a>, <a class="tag-link" href="/tags/全链路监控/">全链路监控</a>, <a class="tag-link" href="/tags/微服务/">微服务</a>
    </div>

                        <span id="busuanzi_container_page_pv">
                         阅读<span id="busuanzi_value_page_pv"></span>次
                        </span>
                    </div>
                
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
                <div id="toc" class="toc-article">
                <strong class="toc-title">文章目录</strong>
                    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#服务追踪分析"><span class="toc-number">1.</span> <span class="toc-text">服务追踪分析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#什么是-Spring-Cloud-Sleuth"><span class="toc-number">2.</span> <span class="toc-text">什么是 Spring Cloud Sleuth ?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring-Cloud-Sleuth和Zipkin"><span class="toc-number">3.</span> <span class="toc-text">Spring Cloud Sleuth和Zipkin</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SpringCloudSleuth-借用了-Dapper-的术语"><span class="toc-number">4.</span> <span class="toc-text">SpringCloudSleuth 借用了 Dapper 的术语</span></a></li></ol>
                </div>
            
            <p>前言:做过软件开发的都知道，对<code>系统进行全链路的监控</code>是非常有必要的。在单体应用中，传统的方式是软件开发软件者，通过自定义日志的level，日志文件的方式记录单体应用的<code>运行日志</code>。从而排查线上系统出现运行过慢，出现故障，异常等问题，但是在微服务架构或分布式系统中，一个系统被拆分成了A、B、C、D、E等多个服务，而每个服务可能又有多个实例组成集群，采用上诉定位问题的方式就行不通了，你充其量就知道某个服务是应用的瓶颈，但中间发生了什么你完全不知道。而且问题的查询，因为有海量各种各样的日志等文件，导致<code>追溯定位问题</code>等极其不方便。因此需要<code>全链路监控系统的收集，上报，对海量日志实时计算生成，监控告警，视图报表，帮助开发人员快速定位问题</code>。</p>
<h2 id="服务追踪分析"><a href="#服务追踪分析" class="headerlink" title="服务追踪分析"></a>服务追踪分析</h2><p>一个由微服务构成的应用系统由N个服务实例组成，通过<code>REST请求</code>或者<code>RPC协议</code>等来通讯完成一个业务流程的调用。对于入口的一个调用可能需要有多个后台服务协同完成，链路上<code>任何一个调用超时</code>或<code>出错</code>都可能造成前端请求的失败。服务的调用链也会越来越长，并形成一个树形的调用链。如下图所示:<br><img src="/images/spring-cloud-sleuth/1/dyl.png" alt="调用链"><br><a id="more"></a><br>但是随着服务的增多，对调用链的分析也会越来越负责。设想你在负责下面这个系统，其中每个小点都是一个微服务，他们之间的调用关系形成了复杂的网络。如下图所示:<br><img src="/images/spring-cloud-sleuth/1/qzfw.png" alt="调用关系复杂网络图"></p>
<p>通过该图，可以看出错综复杂的调用网路图。针对服务化应用全链路追踪的问题，Google发表了Dapper论文，介绍了他们如何进行服务追踪分析。其基本思路是在服务调用的请求和响应中加入ID，标明上下游请求的关系。利用这些信息，可以可视化地分析服务调用链路和服务间的依赖关系。</p>
<h2 id="什么是-Spring-Cloud-Sleuth"><a href="#什么是-Spring-Cloud-Sleuth" class="headerlink" title="什么是 Spring Cloud Sleuth ?"></a>什么是 Spring Cloud Sleuth ?</h2><p>Spring Cloud Sleuth为Spring Cloud提供了分布式追踪方案，为了更好的理解这个领域中的一些概念，建议先自行搜索学习一下Google Dapper相关的论文，<a href="http://research.google.com/pubs/pub36356.html，github" target="_blank" rel="external">http://research.google.com/pubs/pub36356.html，github</a> Code连接:<a href="https://github.com/spring-cloud/spring-cloud-sleuth" target="_blank">Spring Cloud Sleuth Code</a>。官方文档地址:<a href="http://cloud.spring.io/spring-cloud-sleuth/spring-cloud-sleuth.html" target="_blank" rel="external">http://cloud.spring.io/spring-cloud-sleuth/spring-cloud-sleuth.html</a>. 其官方文档中对自己的定义是如下：</p>
<blockquote>
<p>Spring Cloud Sleuth implements a distributed tracing solution for Spring Cloud, borrowing heavily from Dapper, Zipkin and HTrace. For most users Sleuth should be invisible, and all your interactions with external systems should be instrumented automatically. You can capture data simply in logs, or by sending it to a remote collector service.</p>
</blockquote>
<p>简单来说，Spring Cloud Sleuth就是APM(Application Performance Monitor),全链路监控的APM的一部分，如果要完整的使用该组件需要自己定制化或者和开源的系统集成，例如:ZipKin。</p>
<blockquote>
<p>APM（Application Performance Monitor）这个领域最近异常火热。国外该领域知名公司包括New Relic，Appdynamics，Splunk。其中New Relic已经成功IPO，估值超过20亿美元。<br>国内外的个大互联网公司也都有类似大名鼎鼎的APM产品，例如淘宝鹰眼Eagle Eyes，点评的CAT，微博的Watchman，twitter的Zipkin。他们的产品虽未像专业APM公司的产品这样功能强大，但结合各自公司的业务特点，这些产品在支撑业务系统的高性能和稳定性方面，发挥了显著的作用。</p>
</blockquote>
<h2 id="Spring-Cloud-Sleuth和Zipkin"><a href="#Spring-Cloud-Sleuth和Zipkin" class="headerlink" title="Spring Cloud Sleuth和Zipkin"></a>Spring Cloud Sleuth和Zipkin</h2><p>对应Dpper的开源实现是Zipkin，支持多种语言包括JavaScript，Python，Java, Scala, Ruby, C#, Go等。其中Java由多种不同的库来支持。</p>
<h2 id="SpringCloudSleuth-借用了-Dapper-的术语"><a href="#SpringCloudSleuth-借用了-Dapper-的术语" class="headerlink" title="SpringCloudSleuth 借用了 Dapper 的术语"></a>SpringCloudSleuth 借用了 Dapper 的术语</h2><ul>
<li><strong>Span</strong><ul>
<li>基本工作单元，例如，在一个新建的span中发送一个RPC等同于发送一个回应请求给RPC，span通过一个64位ID唯一标识，trace以另一个64位ID表示，span还有其他数据信息，比如摘要、时间戳事件、关键值注释(tags)、span的ID、以及进度ID(通常是IP地址) span在不断的启动和停止，同时记录了时间信息，当你创建了一个span，你必须在未来的某个时刻停止它。</li>
</ul>
</li>
<li><strong>Trace</strong><ul>
<li>一系列spans组成的一个树状结构，例如，如果你要在分布式中大数据存储中使用，Trace将会由一个请求执行调用链形成。</li>
</ul>
</li>
<li><strong>Annotation</strong><ul>
<li>用来及时记录一个事件的存在，一些核心annotations用来定义一个请求的开始和结束。<br><em>cs：Client Sent - 客户端发起一个请求，这个annotion描述了这个span的开始
</em>sr：Server Received - 服务端获得请求并准备开始处理它，如果将其sr减去cs时间戳便可得到网络延迟<br><em>ss：Server Sent - 注解表明请求处理的完成(当请求返回客户端)，如果ss减去sr时间戳便可得到服务端需要的处理请求时间
</em>cr：Client Received - 表明span的结束，客户端成功接收到服务端的回复，如果cr减去cs时间戳便可得到客户端从服务端获取回复的所有所需时间<br>将Span和Trace在一个系统中使用Zipkin注解的过程图形化，如下图所示:</li>
</ul>
</li>
</ul>
<p><img src="/images/spring-cloud-sleuth/1/trace-id.png" alt="调用关系复杂网络图"></p>

            <! -- 添加版权信息 -->
<div class="article-footer-copyright">
<i class="fa fa-lightbulb-o"></i>
本文由<b><a href="/index.html" target="_blank" title="许进">许进</a></b>创作和发表,采用<a href="http://creativecommons.org/licenses/by/3.0/cn" target="_blank" rel="external">CC BY 3.0 CN协议</a> 进行许可。转载请注明作者及出处,本文作者为<b><a href="/index.html" target="_blank" title="许进">许进</a></b>,本文标题为<b><a href="/2016/10/21/Spring Cloud Sleuth/" target="_blank" title="Spring Cloud Sleuth-全链路监控调研">Spring Cloud Sleuth-全链路监控调研</a></b>
本文链接为<b><a href="/2016/10/21/Spring Cloud Sleuth/" target="_blank" title="Spring Cloud Sleuth-全链路监控调研">http://blog.xujin.org/2016/10/21/Spring Cloud Sleuth/</a></b>.
</div>
<! -- 添加版权信息 -->
            
<style type="text/css">
    .center {
        text-align: center;
    }
    .hidden {
        display: none;
    }
    .donate_bar a.btn_donate{
        display: inline-block;
        width: 82px;
        height: 82px;
        background: url("http://7xsl28.com1.z0.glb.clouddn.com/btn_reward.gif") no-repeat;
        _background: url("http://7xsl28.com1.z0.glb.clouddn.com/btn_reward.gif") no-repeat;
        -webkit-transition: background 0s;
        -moz-transition: background 0s;
        -o-transition: background 0s;
        -ms-transition: background 0s;
        transition: background 0s;
    }

    .donate_bar a.btn_donate:hover{ background-position: 0px -82px;}
    .donate_bar .donate_txt {
        display: block;
        color: #9d9d9d;
        font: 14px/2 "Microsoft Yahei";
    }
    .bold{ font-weight: bold; }
</style>
<div id="donate_module">

    <!-- btn_donate & tips -->
    <div id="donate_board" class="donate_bar center">
        <br>
        ------------------------------------------------------------------------------------------------------------------------------
        <br>
        <a id="btn_donate" class="btn_donate" target="_self" href="javascript:;" title="Donate 打赏"></a>
    <span class="donate_txt">
      如您觉得文章不错，对您有所帮助，可以通过“支付宝”或“微信支付”请我喝咖啡。
    </span>


    </div>
    <!-- /btn_donate & tips -->

    <!-- donate guide -->

    <div id="donate_guide" class="donate_bar center hidden">
        <br>
        ------------------------------------------------------------------------------------------------------------------------------
        <br>

        <a href="/images/wx.jpg" title="用微信扫一扫哦~" class="fancybox" rel="article0">
            <a href="/images/wx.jpg" title="" class="gallery-item" lg-event-uid="&amp;7"><img src="/images/wx.jpg" title="微信打赏" height="190px" width="auto"></a>
        </a>

        &nbsp;&nbsp;

        <a href="/images/zfb.png" title="用支付宝扫一扫即可~" class="fancybox" rel="article0">
            <a href="/images/zfb.png" title="" class="gallery-item" lg-event-uid="&amp;8"><img src="/images/zfb.png" title="支付宝打赏" height="190px" width="auto"></a>
        </a>

    <span class="donate_txt">
      如您觉得文章不错，对您有所帮助，可以通过“支付宝”或“微信支付”请我喝咖啡。
    </span>

    </div>
    <!-- /donate guide -->

    <!-- donate script -->
    <script type="text/javascript">
        document.getElementById('btn_donate').onclick = function() {
            $('#donate_board').addClass('hidden');
            $('#donate_guide').removeClass('hidden');
        }

        function donate_on_web(){
            $('#donate').submit();
        }

        var original_window_onload = window.onload;
        window.onload = function () {
            if (original_window_onload) {
                original_window_onload();
            }
            document.getElementById('donate_board_wdg').className = 'hidden';
        }
    </script>
    <!-- /donate script -->
</div>
        
        </div>
        <footer class="article-footer">
            <div class="share-container">


    <div class="bdsharebuttonbox">
    <a href="#" class="bds_more" data-cmd="more">分享到：</a>
    <a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间">QQ空间</a>
    <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博">新浪微博</a>
    <a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博">腾讯微博</a>
    <a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网">人人网</a>
    <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信">微信</a>
</div>
<script>
window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"16"},"share":{"bdSize":16}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script>
<style>
    .bdshare_popup_box {
        border-radius: 4px;
        border: #e1e1e1 solid 1px;
    }
    .bdshare-button-style0-16 a,
    .bdshare-button-style0-16 .bds_more {
        padding-left: 20px;
        margin: 6px 10px 6px 0;
    }
    .bdshare_dialog_list a,
    .bdshare_popup_list a,
    .bdshare_popup_bottom a {
        font-family: 'Microsoft Yahei';
    }
    .bdshare_popup_top {
        display: none;
    }
    .bdshare_popup_bottom {
        height: auto;
        padding: 5px;
    }
</style>


</div>

            
    
        <a href="http://blog.xujin.org/2016/10/21/Spring Cloud Sleuth/#comments" class="article-comment-link ds-thread-count" data-thread-key="http://blog.xujin.org/2016/10/21/Spring Cloud Sleuth/">评论</a>
    

        </footer>
    </div>
    
        
<nav id="article-nav">
    
    
        <a href="/2016/10/19/spring-cloud-config/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">下一篇</strong>
            <div class="article-nav-title">什么Spring Cloud Config？</div>
        </a>
    
</nav>


    
</article>


    
    <section id="comments">
    
        
    <div class="ds-thread" data-thread-key="2016/10/21/Spring Cloud Sleuth/" data-title="Spring Cloud Sleuth-全链路监控调研" data-url="http://blog.xujin.org/2016/10/21/Spring Cloud Sleuth/"></div>
    <style>
        #ds-thread #ds-reset .ds-textarea-wrapper {
            background: none;
        }
        #ds-reset .ds-avatar img {
            box-shadow: none;
        }
        #ds-reset .ds-gradient-bg {
            background: #f7f7f7;
        }
        #ds-thread #ds-reset li.ds-tab a {
            border-radius: 3px;
        }
        #ds-thread #ds-reset .ds-post-button {
            color: white;
            border: none;
            box-shadow: none;
            background: #d32;
            text-shadow: none;
            font-weight: normal;
            font-family: 'Microsoft Yahei';
        }
        #ds-thread #ds-reset .ds-post-button:hover {
            color: white;
            background: #DE594C;
        }
        #ds-thread #ds-reset .ds-post-button:active {
            background: #d32;
        }
        #ds-smilies-tooltip ul.ds-smilies-tabs li a.ds-current {
            color: white;
            background: #d32;
            box-shadow: none;
            text-shadow: none;
            font-weight: normal;
        }
    </style>

    
    </section>

</section>
            
                <aside id="sidebar">
   
        
    <div class="widget-wrap">
        <h3 class="widget-title">本站公告</h3>
        <div class="widget">
             <style>
    .bg-gg {
        background-color: #C7EDCC;
        padding: 15px;
        margin: 0px;
        border-radius: 15px;
        box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);
    }
    .bg-gg ul li{
       padding: 0px;
       font-size:15px;
    }
</style>
           
                <div class="bg-gg">
                 <span id="busuanzi_container_site_uv">
          您好，您是<span class="foot-count" id="busuanzi_value_site_uv"></span>位访客
 </span>
 <div class="time" style="color:#f95b39"> 
   <script type="text/javascript">
today=new Date();
var day; var date; var hello;
hour=new Date().getHours()
if(hour < 6)hello='  凌晨好! '
else if(hour < 9)hello=' 早上好! '
else if(hour < 12)hello=' 上午好! '
else if(hour < 14)hello=' 中午好! '
else if(hour < 17)hello=' 下午好! '
else if(hour < 19)hello=' 傍晚好! '
else if(hour < 22)hello=' 晚上好! '
else {hello='夜深了! '}
var webUrl = webUrl;
document.write(' '+hello);
</script> 
   <span id="localtime"> <script type="text/javascript">
　today=new Date(); var tdate,tday, x,year; var x = new Array("星期日", "星期一", "星期二", "星期三", "星期四", "星期五","星期六");
　　var MSIE=navigator.userAgent.indexOf("MSIE");
　　if(MSIE != -1)
　　 year =(today.getFullYear());
　　else
　　 year = (today.getYear()+1900);
　　tdate= year+ "年" + (today.getMonth() + 1 ) + "月" + today.getDate() + "日" + " " + x[today.getDay()];
　　document.write(tdate); 
//-->
</script> </span> 
  </div> 
  
                    <div style="padding:3px 0 3px 10px;font-size:15px;"><span style="color:#71ABC7"><strong>while</strong></span> ( <span style="color:#B6D785">true</span> ) <span style="color:#F89653">分享</span>(); 
                    <ul style="margin-top: -3px">
                        <li>QQ：1558962104</li>
                        <li>微信：Software_King</li>
                        <li>邮箱：ceo@cloudshou.cn</li>
                         <li>Spring Cloud:470962790</li>
                    </ul>
                    </div> 

                </div>
            
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">分类</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Spring-Cloud/">Spring Cloud</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring-Cloud-Sleuth/">Spring Cloud Sleuth</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a><span class="category-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">友情链接</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://www.xujin.org">许进|沉思录</a>
                    </li>
                
                    <li>
                        <a href="http://springcloud.cn">Spring Cloud中国社区</a>
                    </li>
                
                    <li>
                        <a href="http://www.cnblogs.com/ACMer/">我的博客园</a>
                    </li>
                
                    <li>
                        <a href="http://blog.sina.com.cn/softwaremi">新浪博客</a>
                    </li>
                
                    <li>
                        <a href="http://blog.didispace.com">程序猿DD</a>
                    </li>
                
            </ul>
        </div>
    </div>


    
        
    <div class="widget-wrap">
        <h3 class="widget-title">热评文章</h3>
        <div class="widget">
            <!-- 多说热评文章 start --> <div class="ds-top-threads" data-range="monthly" data-num-items="5"></div> <!-- 多说热评文章 end --> <!-- 多说公共JS代码 start (一个网页只需插入一次) --> <script type="text/javascript"> var duoshuoQuery = {short_name:"xujin-hexo-blog"}; (function() { var ds = document.createElement('script'); ds.type = 'text/javascript';ds.async = true; ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js'; ds.charset = 'UTF-8'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds); })(); </script> <!-- 多说公共JS代码 end --> 
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">最新评论</h3>
        <div class="widget">
            <!-- 多说最新评论 start --> <div class="ds-recent-comments" data-num-items="5" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="70"></div> <!-- 多说最新评论 end --> <!-- 多说公共JS代码 start (一个网页只需插入一次) --> <script type="text/javascript"> var duoshuoQuery = {short_name:"xujin-hexo-blog"}; (function() { var ds = document.createElement('script'); ds.type = 'text/javascript';ds.async = true; ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js'; ds.charset = 'UTF-8'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds); })(); </script> <!-- 多说公共JS代码 end --> 
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">标签云</h3>
        <div class="widget tagcloud">
            <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/Jdk/" style="font-size: 10px;">Jdk</a> <a href="/tags/Spring-Cloud/" style="font-size: 20px;">Spring Cloud</a> <a href="/tags/Spring-Cloud-Config/" style="font-size: 10px;">Spring Cloud Config</a> <a href="/tags/Spring-Cloud-Sleuth/" style="font-size: 10px;">Spring Cloud Sleuth</a> <a href="/tags/全链路监控/" style="font-size: 10px;">全链路监控</a> <a href="/tags/微服务/" style="font-size: 10px;">微服务</a>
        </div>
    </div>

    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>
            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2016 许进<br>
            Powered by <a href="http://blog.xujin.org" target="_blank">Software_King</a>. 
        </div>
        <span id="busuanzi_container_site_pv">
         访问量<span class="foot-count" id="busuanzi_value_site_pv"></span>次
         </span>
    </div>
</footer>
        
    
    <script type="text/javascript">
    var duoshuoQuery = {short_name:'xujin-hexo-blog'};
    (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
    || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
    </script>



    
        <script src="/vendor/lightgallery/js/lightgallery.min.js"></script>
        <script src="/vendor/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/vendor/lightgallery/js/lg-pager.min.js"></script>
        <script src="/vendor/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/vendor/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/vendor/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/vendor/lightgallery/js/lg-hash.min.js"></script>
        <script src="/vendor/lightgallery/js/lg-share.min.js"></script>
        <script src="/vendor/lightgallery/js/lg-video.min.js"></script>
    
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>